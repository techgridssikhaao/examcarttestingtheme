<style>
             .parent-div{
                display: flex;
                justify-content: center;
                align-items: center;
              }
              .child-div{
                padding: 2rem;
                padding-top: 4rem;
                padding-buttom: 4rem;
                padding-left: 2rem;
                  padding-right: 2rem;
    /*             height: 50rem; */
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                background: white;
                margin: auto;
              }
              .top-div{
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                text-align: center;
                position: relative;
              }
                .popuplogo {
              height: 5rem;
              width: 9rem;
            }
              .head-one{
                 font-size: 2.5rem;
                font-weight: 900;
              }
              .head-two{
                font-size: 2.2rem;
                font-weight: 900;
                color: green;
              }
              .head-three{
                color: black;
                margin-left: 0.4rem;
              }
              .para{
                opacity: .5;
              }
              .middle-div{
                display: grid;
        /*         justify-content: center; */
          /*       alig-items: center; */
          /*       flex-direction: column; */
                margin-top: 5rem;
          /*       width: 60%; */

              }
             .number-field {
              color: black;
              display: flex;
              justify-content: center;
              align-items: center;
              margin: auto ;
              border: none;
              border-bottom: 2px solid black;
              width: 25rem;
              text-align: center;
              padding: 1.1rem;
              font-size: 2.0rem;
              font-weight: bold;
              letter-spacing: 1px;
            }
              .otp-btn{
                margin: 0 auto;
                width: 20rem;
                height: 5rem;
                color: white;
                font-weight: 900;
                background-color: black;
                border: 1px solid black;
                border-radius: 5rem;
                opacity: 0.5;
              }
              .last-div{
                margin-top: 5rem;
                display: flex;
                justify-content: center;
                align-item: center;
                flex-direction: column;
                text-align: center;
                z-index: -5;
                transform: translateX(-120rem);
              }
              .otp-parent{
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 2rem;
                margin: 2rem;
              }
              .phone-number{
                font-size: 1.6rem;
                 opacity: .5;
              }
              .otp{
                background: none !important;
                border: none;
                border-bottom: 2px solid black;
                width: 5rem;
                height: 5rem;
                text-align: center;
              }
              .otp{
                font-size: 3.5rem;
              }
              input::-webkit-outer-spin-button,
              input::-webkit-inner-spin-button {
              -webkit-appearance: none;
                margin: 0;
              }
              .download-btn{
                margin-top: 4rem;
              }
              .resend-para{
                margin-top: 3rem;
                font-size: 1.3rem;
                 opacity: .8;
                font-weight: 900;
              }
              .resend-otp{
                color: green;
                margin-left: 4px;
              }
              .cross{
                position: absolute;
                top: -6rem;
                right: 2rem;
                font-size: 3rem;
                color: black;
                font-weight: normal;
                cursor: pointer;
                z-index: 1000;
              }
              .animate-one{
                z-index: -5;
                display: none;
                transition: all .5s;
              }
              .animate-two{
                display: block !important;
                transform: translate(0);
                transition: all .1s;
                z-index: 5;
                animation-name: swap;
                animation-duration: 2s;

                .child-div{
                    height: 60rem;

  /*                 background-color: red; */
                }
              }
              .child-div-increase{
      /*           height: 60rem; */
              }

              @keyframes swap{
                10%{
                  visibility: hidden;
                }

                80%{
                  visibility: visible;
                }
                100%{
                  visibility: visible;
                }
              }
            @media screen and (max-width: 500px){
              #mod{
                margin-top: -12rem !important;
              }
              .child-div{
      /*           height: 45rem; */
                width: 35rem;
                  padding: 2rem;
              }
              .head-two{
                font-size: 2rem;
              }
              .otp-btn{
                width: 15rem;
                margin-top: 0;
              }
              .number-field{
                width: 20rem;
              }
              .last-div{
                margin-top:2rem;
              }
              .cross{
                top: -1rem;
                right: 0;
              }
                 .otp-parent{
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 1.5rem;
              }

               .otp{
                background: none !important;
                border: none;
                border-bottom: 2px solid black;
                width: 3.5rem;
                height: 3.5rem;
                text-align: center;
              }
              .otp{
                font-size: 2.5rem;
              }
            }
</style>

<script>
  
  
  
  
  
  
  
  

 // pp_addtocart funcitons




  //cp_addtocart function
 // function processAddToCart(ref) {
 //    let productID = ref.getAttribute('data-product-id')
 //   cart.add(productID)
 //  }

  //pp_buynow function

  //
  
  
  
 
  
  
  
  
 ////////////// event listenerssssssss
 const login =  document.getElementById("login")

  // const buyNow =  document.getElementById("login")
  // const getPdf =  document.getElementById("login")


  //////login
  login.addEventListener("click", function() {

   showPopup('#LoginPopUp')

});

  
  /////add to cart 



//   document.addEventListener("DOMContentLoaded", function() {
  
//   let atc =  document.getElementById("cpAddToCart")


// if (atc != null) {
//  atc.addEventListener("click", function() {
    
//     showAddtoCartPopup('#AddToCartPopUp')

// });
  
// }




    
// });

   
  
  
  ///////////////
  

  

  // JavaScript code goes here
  
  let smsotp = '';
  let getButton ="";

 
  let mobNumber = "";

function validateLength(buttonShowAndHide, getlength) {
  const myInput = document.querySelector(getlength);
  if (myInput.value.length == 10) {
    document.getElementById(buttonShowAndHide).disabled = false;
    document.getElementById(buttonShowAndHide).style.opacity = "1";
  } else {
    document.getElementById(buttonShowAndHide).disabled = true;
    document.getElementById(buttonShowAndHide).style.opacity = "0.5";
  }
}

function randomOtp(){

    smsotp = Math.floor(100000 + Math.random() * 900000);
    console.log(smsotp);
  
};



function sendOtp(phoneNumberId, showPhoneNumberAsTextId, middlediv, lastdiv, childdiv) {
  
  randomOtp();
  mobNumber = document.getElementById(phoneNumberId).value;


  
  document.getElementById(middlediv).classList.add("animate-one");
  document.getElementById(lastdiv).classList.add("animate-two");
  document.getElementById(childdiv).classList.add("child-div-increase");
  document.getElementById(showPhoneNumberAsTextId).innerHTML = mobNumber;
  navigator.sendBeacon(`https://bhartipur.in:5000/send_otp_get/${mobNumber}/${smsotp}`)
  
}

function showPopup(popupId){
 
  $(popupId).modal('show');
  
}
  
function hidePopup(popupId){


  $(popupId).modal('hide');
  
}


 function verifyOtp (popupId, otp1, otp2, otp3, otp4, otp5, otp6) {


    
  let otpInput1 = document.getElementById(otp1).value;
  let otpInput2 = document.getElementById(otp2).value;
  let otpInput3 = document.getElementById(otp3).value;
  let otpInput4 = document.getElementById(otp4).value;
  let otpInput5 = document.getElementById(otp5).value;
  let otpInput6 = document.getElementById(otp6).value;
  let finalOtp = otpInput1.toString() + otpInput2.toString() + otpInput3.toString() + otpInput4.toString() + otpInput5.toString() + otpInput6.toString();
  let parseOtp = parseInt(finalOtp);
  if (parseOtp == smsotp) {
    localStorage.setItem("globalOtpKey", mobNumber);
 

    


switch (popupId) {
  case "#LoginPopUp": {
      hidePopup(popupId);
      window.location.reload();
      break;
      
    }
    
   case "#buyNowPopUp": {

 const element = document.querySelector("#button-cart-buy");

      // Create a new click event
      const clickEvent = new MouseEvent("click", {
        bubbles: true,
        cancelable: true,
        view: window
      });
      
      // Dispatch the click event on the element
      element.dispatchEvent(clickEvent);
       element.dispatchEvent(clickEvent);
    break;
      
    }
     
  case "#AddToCartPopUp": {
   
  // processAddtoCartPopup(getButton);
    hidePopup(popupId);


   break;
    
  }  
  case "#getPdfPopUp": {
 hidePopup(popupId);
processPdflink(getButton);
       break;
  }

  case "#openBlogPopUp": {
 hidePopup(popupId);
processBlogLink(getButton);
       break;
  }

    
    default:
     hidePopup(popupId);
}

   
       
    
  } else {
    alert("fail");
  }
};



function resendOtp(){

   randomOtp();
 navigator.sendBeacon(`https://bhartipur.in:5000/send_otp_get/${mobNumber}/${smsotp}`)
}
  


        function processAddtoCartPopup(ref){
 getButton =ref;
   let productID = ref.getAttribute('data-product-id')
                 let productAvailable = ref.getAttribute('data-product-available')
            let productPage = ref.getAttribute('data-product-page')
                  

      if(  ref.id !='button-cart'  )
      {
  if (productAvailable){

                   cart.add(productID)
             
           } else {

              location.href = productPage
            
           }
        
      }
          
           // let productID = ref.getAttribute('data-product-id')
           //       let productAvailable = ref.getAttribute('data-product-available')
           //  let productPage = ref.getAttribute('data-product-page')
           //         console.log(productPage);
           // if (productAvailable){

           //         cart.add(productID)
             
           // } else {

           //    location.href = productPage
            
           // }
  
                      
                            if(localStorage.getItem("globalOtpKey")== null){
                                showPopup('#AddToCartPopUp');
                              
                            }
        }




  
 function processPdflink(ref){
 let pdfLink =  ref.getAttribute('data-pdflink')   
   let id = ref.getAttribute('id')
   
          getButton = ref;
   
   if(localStorage.getItem("globalOtpKey")== null){
                     showPopup('#getPdfPopUp');
    

// if(id == "openPdfFile") {
//   openProductPdf();
// }else{
//    window.open(`${pdfLink}`, "_blank")
// }


     
   }else{



if(id == "openPdfFile") {
  console.log(id)
  openProductPdf();
}else{
   console.log(id)
   window.open(`${pdfLink}`, "_blank")
}


     
   }

   
 }

function processBlogLink(ref) {
  console.log(ref)
  getButton = ref;
 
 let blogUrl = ref.getAttribute('data-bloglink');

console.log(blogUrl);
  
  if(localStorage.getItem("globalOtpKey")== null) {
showPopup('#openBlogPopUp');


    
  }else {
     
    if (blogUrl != null)
 {
   window.open(`${blogUrl}`, "_blank");
 }
   
    
  }

  
    
}


function processBuyNow(ref) {
  console.log(ref)
  getButton = ref;
 

  
  if(localStorage.getItem("globalOtpKey")== null) {
showPopup('#buyNowPopUp');


    
  }else {
     
    const element = document.querySelector("#button-cart-buy");

      // Create a new click event
      const clickEvent = new MouseEvent("click", {
        bubbles: true,
        cancelable: true,
        view: window
      });
      
      // Dispatch the click event on the element
      element.dispatchEvent(clickEvent);
       element.dispatchEvent(clickEvent);
    
}

}






</script>
